<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-176087655-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Grid AI" href="/opensearch.xml">
<script src="/js/termynal.js"></script>
<script src="/js/main.js"></script><title data-react-helmet="true">Credentials | Grid AI</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.grid.ai/platform/credentials"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Credentials | Grid AI"><meta data-react-helmet="true" name="description" content="Credentials are secret values that you can use to securely inject sensitive information into the"><meta data-react-helmet="true" property="og:description" content="Credentials are secret values that you can use to securely inject sensitive information into the"><link data-react-helmet="true" rel="icon" href="/images/logos/favicon-32x32.png"><link data-react-helmet="true" rel="canonical" href="https://docs.grid.ai/platform/credentials"><link data-react-helmet="true" rel="alternate" href="https://docs.grid.ai/platform/credentials" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.grid.ai/platform/credentials" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://800UQWIQ9P-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4da5a155.css">
<link rel="preload" href="/assets/js/runtime~main.b4a04cf6.js" as="script">
<link rel="preload" href="/assets/js/main.6b9b1fbd.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logos/grid-logo-light.png" alt="Grid AI Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/images/logos/grid-logo-dark.png" alt="Grid AI Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" href="/changelog">Changelog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__link--active" href="/features/runs/README">Runs</a><a class="navbar__item navbar__link navbar__link--active" href="/features/sessions">Sessions</a><a class="navbar__item navbar__link navbar__link--active" href="/features/datastores">Datastores</a><a href="https://platform.grid.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Platform<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_LIo8"><nav class="menu thin-scrollbar menu_oAhv"><ul class="theme-doc-sidebar-menu menu__list"><div class="search_mdk4"><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Grid in 3 minutes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/getting-started/getting-started-with-grid">GETTING STARTED</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/features/datastores">FEATURES</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/examples/running-with-different-frameworks/running-julia-programs">EXAMPLES</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cli">GRID CLI REFERENCE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/changelog">CHANGELOG</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/platform/best-practices">PLATFORM</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/best-practices">Best Practices</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/platform/Billing/billing-and-credits">Billing</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/github-integration">Integrating with GitHub</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/platform/Custom Cloud Credentials/byoc">Custom Cloud Credentials</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/platform/credentials">Credentials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/machines">Machines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/collaboration">Collaboration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/feature-requests">Feature Requests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/report-feedback">Report Feedback</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/security-and-privacy">Security and Privacy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/sso">SSO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/tips-and-tricks">Tips and Tricks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/platform/known-issues">Known Issues</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/support/contact_support">SUPPORT</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_EBxv"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_AF9Q"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Grid Credentials</h1></header><p>Credentials are secret values that you can use to securely inject sensitive information into the
Grid platform. Credentials are encrypted in the Grid-backend storage
systems and are only decrypted immediately prior to use.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="access-to-secrets-teams-users">Access to Secrets (Teams Users)<a class="hash-link" href="#access-to-secrets-teams-users" title="Direct link to heading">â€‹</a></h3><p>Credentials can be created by any Grid user, with a limit of 50
Credentials per account. Only the user who created a credential (the owner) can
delete that credential. All of the user&#x27;s team members are able to utilize the credential in
their own workflow (for example, while creating a Datastore from a private s3 bucket).</p><p>Sensitive credential type values can never be retrieved from Grid via the CLI. However,
the values of non-sensitive credential types (such as <code>--type s3</code>) can be viewed by the user
who created the credential and any member of the user&#x27;s team (for our <code>teams</code> tier users.)</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="credential-types">Credential Types<a class="hash-link" href="#credential-types" title="Direct link to heading">â€‹</a></h3><p>At the moment, the following credential types are supported:</p><ul><li><code>s3</code> (access for datastore creation from a private s3 bucket)</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="how-to-create-an-s3-credential-for-private-s3-access-byoc-users-only">How to Create an <code>s3</code> Credential for Private S3 Access (BYOC users only)<a class="hash-link" href="#how-to-create-an-s3-credential-for-private-s3-access-byoc-users-only" title="Direct link to heading">â€‹</a></h2><p>Grid now supports the ability to create Datastores from private AWS s3 buckets by using
the <code>--no-copy</code> mode via the CLI. In order to allow Grid to access your private buckets,
you&#x27;ll need to create an authorized AWS Role using the <code>grid credential create --type s3</code>
command (explained in detail below). After creating a role, you can run the
<code>grid datastore create S3://&lt;private-bucket-name-here&gt; --no-copy</code> command as usual - no
modifications needed. If any of your registered <code>s3</code> credentials can access the s3 bucket
path specified, then Grid will automatically use them when creating the Datastore (and
when using that Datastore in a <code>run</code> or <code>session</code>).</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="prerequisite-configure-iam-role-in-aws">Prerequisite: Configure IAM Role in AWS<a class="hash-link" href="#prerequisite-configure-iam-role-in-aws" title="Direct link to heading">â€‹</a></h2><p>In order to provide Grid access to a private S3 bucket, you must first set up an AWS IAM Role configured with the appropriate permission policy. This is the absolute minimum permission Grid requires in order to list and retrieve files from an s3 bucket of your choice. The <code>grid credential create</code> command will dynamically generate the IAM Role Trust Policy based on the cluster on which you are creating the Datastore. While all users will need to authorize the AWS account ID on which the Grid Platform controlplane runs, <a href="/platform/Custom Cloud Credentials/byoc">bring-your-own-cloud (<code>BYOC</code>) users</a> will also need to include the AWS account ID on which the <code>BYOC</code> cluster runs. </p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Please refer to the AWS documentation on <a href="https://aws.amazon.com/blogs/security/how-to-use-trust-policies-with-iam-roles/" target="_blank" rel="noopener noreferrer">IAM Role Trust
Policies</a>
and <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html" target="_blank" rel="noopener noreferrer">IAM Role Permission
Policies</a> for more
detailed information.</p></div></div><p>We will illustrate the process of registering an IAM Role with Grid using the following
example:</p><blockquote><p>I want to run an experiment or session using sensitive data contained in a private s3 bucket. The bucket&#x27;s name is
<code>gridai-demo-bucket</code> and I would like to create a Datastore from any file
prefix (folder) in the bucket. </p></blockquote><div style="text-align:center"><p><img src="/assets/images/demo_bucket_contents-f76693f0dfcc8ca298bcbc7a90ec32c3.png"></p></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="0-change-from-deault-cluster-context">0. Change from deault cluster context<a class="hash-link" href="#0-change-from-deault-cluster-context" title="Direct link to heading">â€‹</a></h3><p>By default the <a href="/platform/Custom Cloud Credentials/grid-cluster-context">cluster context</a> is set to <code>Grid Cloud</code>. Change this to your BYOC cluster you created. </p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">grid user set-cluster-context &lt;byoc cluster name&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-generate-trust-and-permission-policiess">1. Generate Trust and Permission Policiess<a class="hash-link" href="#1-generate-trust-and-permission-policiess" title="Direct link to heading">â€‹</a></h3><p>First: run the <code>grid credential create --type s3</code> command in order to find the required trust and
permission policies. </p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ grid credential create --type s3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please refer the the the documentation for how to create an AWS role and </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">permission policy.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The trust policy for the role should be:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Statement&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Action&quot;: &quot;sts:AssumeRole&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Principal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;AWS&quot;: &quot;302180240179&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Condition&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;StringEquals&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;sts:ExternalId&quot;: &quot;6aa0ae3592534df8936b03f4b73294c4&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The permission policy attached to the role should be:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Statement&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Action&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;s3:GetBucketLocation&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;s3:GetObject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;s3:ListBucket&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Resource&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;arn:aws:s3:::&lt;replace-with-bucket-name&gt;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;arn:aws:s3:::&lt;replace-with-bucket-name&gt;/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please be sure to change the &lt;replace-with-bucket-name&gt; field with the bucket </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name you wish to grant access to. More information can be found on the docs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please Note: when creating the role name in the AWS console, the role name MUST </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">begin with the prefix: grid-s3-access- any valid characters can follow the </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prefix.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">When complete, please enter the role ARN:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-add-trust-and-permission-policies-to-aws">2. Add Trust and Permission Policies to AWS<a class="hash-link" href="#2-add-trust-and-permission-policies-to-aws" title="Direct link to heading">â€‹</a></h3><p>The <code>grid credential create</code> command will output the required trust and permission policies. </p><p>  a. Leave the command prompt open while visiting the <a href="https://us-east-1.console.aws.amazon.com/iamv2/home?region=us-east-1#/roles" target="_blank" rel="noopener noreferrer">AWS IAM Role
Console</a> </p><p>  b. Click &quot;Create Role&quot;</p><p>  <img src="/assets/images/role-console-99180c36c0980a3c41ccfc017eb9b2c7.png"></p><p>  c. Select the &quot;custom trust policy&quot; setting, and copy/paste the trust policy output
from the CLI into the <code>json</code> editor:</p><p>  <img src="/assets/images/select_trusted_entity-f4b9b5369083e7adb3d5b13351f8625f.png"></p><p>  d.  When prompted with the &quot;add permissions to role&quot; tab, click &quot;Create Policy&quot; to  create a new permission
policy</p><p>  <img src="/assets/images/add_permissions_to_role-467988e7744e2fc23bafb41a4025b36b.png"></p><p>  e.  A new tab will open. Select the <code>json</code> tab, and
copy/paste the permission policy into the editor. Also replace the text
<code>&lt;replace-with-bucket-name&gt;</code> with the name of the private bucket to provide access to
(i.e. <code>gridai-demo-bucket</code>). </p><p>  <img src="/assets/images/aws_permission_policy-b827f5ad506cdf38b2b18a8bc4130808.png"></p><p>  f. Click &quot;next&quot; until reaching the &quot;permission policy naming&quot; tab. Enter an appropriate
name, for example: <code>my-permission-policy-for-grid</code>. </p><p>  <img src="/assets/images/permission_policy_naming-61bc156a0fa2a3a35a7344ab8797998e.png"></p><p>  g. Click &quot;create policy&quot;.</p><p>  <img src="/assets/images/permission_policy_created-b1ef97ef4b95fbae84069d4a70ed209a.png"></p><p>  h. Go back to the previous tab for attaching a permission policy to the role </p><p>  i. Refresh the list of policies by clicking the refresh symbol</p><p>  j. Select the <code>my-permission-policy-for-grid</code> policy name and click &quot;next&quot;.</p><p><img src="/assets/images/attach_permission_policy-4c4072dfefa498ef07a676f9ebb45e5e.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-create-aws-role-name">3. Create AWS Role Name<a class="hash-link" href="#3-create-aws-role-name" title="Direct link to heading">â€‹</a></h3><p>I then navigate through the prompts until I am presented with the &quot;role naming&quot; screen. At
this point, I create a role name <strong>keeping in mind that the role must begin with the
prefix: <code>grid-s3-access-</code></strong>. In this case I name the role
<code>grid-s3-access-for-my-demo-bucket</code> and click create.</p><p><img src="/assets/images/role_naming-bec1799c7de7084b5f9faa84dcee7140.png"></p><p>I am then presented with a success screen! The role has been created. </p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-input-role-arn-in-grid">4. Input role ARN in Grid<a class="hash-link" href="#4-input-role-arn-in-grid" title="Direct link to heading">â€‹</a></h3><p><img src="/assets/images/role_created-10c9646383e79a9d4e8b5c680796996f.png"></p><p>I select the role and click on the icon next to the &quot;role ARN&quot; in order to
copy the value to my clipboard:</p><p><img src="/assets/images/arn_copy-f5960b958e0546d81206064971c4244f.png"></p><p>I now go back to the terminal and paste my clipboard value into the input field
I am being presented with:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">When complete, please enter the role ARN: arn:aws:iam::880213070634:role/grid-s3-access-for-my-demo-bucket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Success!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The role has been successfully added, and I can see it in the list when I run <code>grid
credentials</code> or <code>grid credentials list</code>. </p><p>I can now run the regular command to create a Datastore and it will
automatically pick the correct credential and create the Datastore from my private s3 bucket!</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ grid datastore create s3://gridai-demo-bucket/ --no-copy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Success!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/gridai/grid-docs/edit/master/docs/platform/3_credentials.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-07-15T16:02:10.000Z">7/15/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/platform/Custom Cloud Credentials/faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">FAQ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/platform/machines"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Machines</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#access-to-secrets-teams-users" class="table-of-contents__link toc-highlight">Access to Secrets (Teams Users)</a></li><li><a href="#credential-types" class="table-of-contents__link toc-highlight">Credential Types</a></li><li><a href="#how-to-create-an-s3-credential-for-private-s3-access-byoc-users-only" class="table-of-contents__link toc-highlight">How to Create an <code>s3</code> Credential for Private S3 Access (BYOC users only)</a></li><li><a href="#prerequisite-configure-iam-role-in-aws" class="table-of-contents__link toc-highlight">Prerequisite: Configure IAM Role in AWS</a><ul><li><a href="#0-change-from-deault-cluster-context" class="table-of-contents__link toc-highlight">0. Change from deault cluster context</a></li><li><a href="#1-generate-trust-and-permission-policiess" class="table-of-contents__link toc-highlight">1. Generate Trust and Permission Policiess</a></li><li><a href="#2-add-trust-and-permission-policies-to-aws" class="table-of-contents__link toc-highlight">2. Add Trust and Permission Policies to AWS</a></li><li><a href="#3-create-aws-role-name" class="table-of-contents__link toc-highlight">3. Create AWS Role Name</a></li><li><a href="#4-input-role-arn-in-grid" class="table-of-contents__link toc-highlight">4. Input role ARN in Grid</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row"><div class="footer__links text--left col-12 col-md-6"><div class="footer__links"><a href="https://twitter.com/gridai_" target="_blank" rel="noopener noreferrer" class="icon_hNi9 footer__link-item"><span class="fontawesome-brands-twitter_H+YA"></span></a><a href="https://www.youtube.com/channel/UCZYvMtnyzp0hrV2VXWUWL5w" target="_blank" rel="noopener noreferrer" class="icon_hNi9 footer__link-item"><span class="fontawesome-brands-youtube_AMCj"></span></a><a href="https://www.linkedin.com/company/grid-ai" target="_blank" rel="noopener noreferrer" class="icon_hNi9 footer__link-item"><span class="fontawesome-brands-linkedin_qvBC"></span></a><a href="https://www.facebook.com/grid.ai.1" target="_blank" rel="noopener noreferrer" class="icon_hNi9 footer__link-item"><span class="fontawesome-brands-facebook_dvJl"></span></a><a href="https://join.slack.com/t/gridai-community/shared_invite/zt-ozqiwuif-UYK6rZGVmTTpMfPcVSdicg" target="_blank" rel="noopener noreferrer" class="icon_hNi9 footer__link-item"><span class="fontawesome-brands-slack_b9n1"></span></a><a href="https://grid.ai" target="_blank" rel="noopener noreferrer" class="icon_hNi9 footer__link-item"><span class="fontawesome-solid-globe_5L6P"></span></a><a href="mailto:support@grid.ai" target="_blank" rel="noopener noreferrer" class="icon_hNi9 footer__link-item"><span class="fontawesome-solid-envelope_P+u9"></span></a></div></div><div class="footer__bottom text--right col-12 col-md-6"><div class="footer__copyright">Copyright Â© 2022 GRID AI</div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.b4a04cf6.js"></script>
<script src="/assets/js/main.6b9b1fbd.js"></script>
</body>
</html>